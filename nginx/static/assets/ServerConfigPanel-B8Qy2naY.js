var z=Object.defineProperty;var l=(h,d)=>z(h,"name",{value:d,configurable:!0});import{s as D,u as P}from"./vendor-vue-DaLZjKA7.js";import{q as E,s as x}from"./vendor-primevue-DeKsC2uk.js";import{e as O,f as Q,Q as G,dw as H,_ as C,du as J,bo as K}from"./index-BFHZsBkN.js";import{u as M}from"./serverConfigStore-D8kGBwZ6.js";import{bx as W,w as b,dc as X,j as m,d as t,k as a,c as u,F as y,y as _,by as o,q as S,e as r,u as n,z as v,A as V}from"./vendor-other-B8t_Wf2K.js";import"./vendor-xterm-CWYFmgbN.js";import"./vendor-three-DH0o8VQ7.js";import"./vendor-tiptap-VxK0yxkd.js";const Y={class:"flex flex-col gap-2"},Z={class:"flex justify-end gap-2"},ee={class:"flex items-center justify-between"},de=W({__name:"ServerConfigPanel",setup(h){const d=O(),k=M(),$=Q(),{serverConfigsByCategory:A,serverConfigValues:T,launchArgs:B,commandLineArgs:p,modifiedConfigs:g}=D(k);let w=!1;const I=l(()=>{k.revertChanges()},"revertChanges"),j=l(async()=>{w=!0,await K().restartApp()},"restartApp");b(B,async e=>{await d.set("Comfy.Server.LaunchArgs",e)}),b(T,async e=>{await d.set("Comfy.Server.ServerConfigValues",e)});const{copyToClipboard:q}=G(),L=l(async()=>{await q(p.value)},"copyCommandLineArgs"),{t:f}=P();X(()=>{w||g.value.length!==0&&$.add({severity:"warn",summary:f("serverConfig.restartRequiredToastSummary"),detail:f("serverConfig.restartRequiredToastDetail"),life:1e4})});const N=l(e=>({...e,name:f(`serverConfigItems.${e.id}.name`,e.name),tooltip:e.tooltip?f(`serverConfigItems.${e.id}.tooltip`,e.tooltip):void 0}),"translateItem");return(e,c)=>(t(),m(J,{value:"Server-Config",class:"server-config-panel"},{header:a(()=>[r("div",Y,[o(g).length>0?(t(),m(o(x),{key:0,severity:"info","pt:text":"w-full"},{default:a(()=>[r("p",null,n(e.$t("serverConfig.modifiedConfigs")),1),r("ul",null,[(t(!0),u(y,null,_(o(g),s=>(t(),u("li",{key:s.id},n(s.name)+": "+n(s.initialValue)+" â†’ "+n(s.value),1))),128))]),r("div",Z,[v(C,{variant:"secondary",onClick:I},{default:a(()=>[V(n(e.$t("serverConfig.revertChanges")),1)]),_:1}),v(C,{variant:"destructive",onClick:j},{default:a(()=>[V(n(e.$t("serverConfig.restart")),1)]),_:1})])]),_:1})):S("",!0),o(p)?(t(),m(o(x),{key:1,severity:"secondary","pt:text":"w-full"},{icon:a(()=>c[0]||(c[0]=[r("i",{class:"icon-[lucide--terminal] text-xl font-bold"},null,-1)])),default:a(()=>[r("div",ee,[r("p",null,n(o(p)),1),v(C,{size:"icon",variant:"muted-textonly",onClick:L},{default:a(()=>c[1]||(c[1]=[r("i",{class:"pi pi-clipboard"},null,-1)])),_:1})])]),_:1})):S("",!0)])]),default:a(()=>[(t(!0),u(y,null,_(Object.entries(o(A)),([s,F],R)=>(t(),u("div",{key:s},[R>0?(t(),m(o(E),{key:0})):S("",!0),r("h3",null,n(e.$t(`serverConfigCategories.${s}`,s)),1),(t(!0),u(y,null,_(F,i=>(t(),u("div",{key:i.name,class:"mb-4"},[v(H,{id:i.id,"form-value":i.value,"onUpdate:formValue":l(U=>i.value=U,"onUpdate:formValue"),item:N(i),"label-class":{"text-highlight":i.initialValue!==i.value}},null,8,["id","form-value","onUpdate:formValue","item","label-class"])]))),128))]))),128))]),_:1}))}});export{de as default};
//# sourceMappingURL=ServerConfigPanel-B8Qy2naY.js.map
